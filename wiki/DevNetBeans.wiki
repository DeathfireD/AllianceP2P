#summary Developers Corner - NetBeans.

= Table Of Contents =
  * [DevNetBeans#Creating_Alliance_project_with_NetBeans Approach #1]
  * [DevNetBeans#Another_NetBeans_Setup_Approach Approach #2]
  * [DevNetBeans#Using_Test_Suite_with_NetBeans Running the Test Suite]


= Creating Alliance project with !NetBeans =

*1) Creating a blank project for trunk build*

We are preparing project for trunk build (similar way for branch, updater).

Go to File->New Project and select java application, click next. 

http://thayanger.neostrada.pl/dev/net1.jpg

Name project and select new place for it, click finish.

http://thayanger.neostrada.pl/dev/net2.jpg

*2) Modifying a blank project*

Right click trunk and go to properties. In source category remove src and test package, set JDK 6, click finish.

http://thayanger.neostrada.pl/dev/net3.jpg

http://thayanger.neostrada.pl/dev/net4.jpg

Remove all leftover directories in project directory except nbproject.

*3) SVN checkout of trunk*

Go to SVN checkout. (Team->Subversion->Checkout)

http://thayanger.neostrada.pl/dev/net5.jpg

Choose 'https://alliancep2pbeta.googlecode.com/svn/trunk' as repository URL, click next.

http://thayanger.neostrada.pl/dev/net6.jpg

Check "skip 'trunk' and checkout only its content", select Local folder (folder of trunk project), click finish.

http://thayanger.neostrada.pl/dev/net7.jpg

After checkout check if everything is correct. Right click trunk and go to Subversion->Commit. There should be 0 or 1 file in "Files to to commit" (build.xml).

http://thayanger.neostrada.pl/dev/net8.jpg

If there is only build.xml click cancel (if 0 then skip this) and then open that file, and revert bottom modification (part about how to build jar file).

http://thayanger.neostrada.pl/dev/net9.jpg

*4) Adding sources, libraries to project*

Right click trunk and go to properties.
In source category add src and res directories to project.

http://thayanger.neostrada.pl/dev/net10.jpg

Go to libraries category and add libraries. Close properties (OK).

http://thayanger.neostrada.pl/dev/net11.jpg

http://thayanger.neostrada.pl/dev/net12.jpg

*5) Preparing working directory*

Make new directory outside project for working files (because they are constantly changed and we don't want to version them).
In this tutorial our project is in ./Sources/Alliance/trunk so we have created new directory: ./Sources/Working/trunk. Now copy everything (except svn directories) from ./Sources/Alliance/trunk/working to our new directory (./Sources/Working/trunk).

http://thayanger.neostrada.pl/dev/net13.jpg

http://thayanger.neostrada.pl/dev/net13-2.jpg

Right click trunk and go to properties. Navigate to Run and add our working directory.

http://thayanger.neostrada.pl/dev/net14.jpg


*6) Finalizing project preparation*
 
Choose main class and you can add some JVM arguments (optional).

http://thayanger.neostrada.pl/dev/net15.jpg

You can now Run project if all is correct alliance should start.

Building should create alliance.dat file (renamed alliance.jar with included libraries).

If you want to connect your local alliance with alliance from !NetBeans start your local alliance with /!AllowMultipleInstances argument.






----

= Another !NetBeans Setup Approach =

In this approach we create the project directly from the source and we keep the working directory where it is.

*1) Check out the source, either through !NetBeans (above) or any other way (eg. command-line).

*2) Rename the build.xml file to something else.*

*3) Create the !NetBeans project.

Choose "File" -> "New Project", with "Java Project with Existing Sources", and click "Next".

http://familyhistories.info/alliancep2p/netbeans-project-existing.png

Choose any name and the location of your source, and click "Next".

http://familyhistories.info/alliancep2p/netbeans-project-location.png

Add the "src" and "res" folder to your sources, and click "Finish".

http://familyhistories.info/alliancep2p/netbeans-project-sources.png

*4) Rename the previous build.xml back (overwriting the one generated by !NetBeans) and click "Source" -> "Scan for external changes".*

*5) Add the "Library" and "Run" settings.*

Right-click on the project and click on "Properties".

Select "Libraries", select "Add JAR/Folder", and add all the libraries from the "lib" directory.

http://familyhistories.info/alliancep2p/netbeans-libraries.png

Now select "Run" and fill in the "Main Class" and the "Working Directory".

http://familyhistories.info/alliancep2p/netbeans-properties-run.png

Now you can run the project.  See 6) above for other helpful information.






----

= Using Test Suite with !NetBeans =

*1) Generate Test Data*

In package org.alliance.misc there is a !GenerateTestSuit class. It accepts 1 argument, path to shared folder that will be used as test share. Run this class with that path argument (or just add path directly in source). This class need to be run only once.

*2) Launching a Suite*

You launch test suite by running Main in org.alliance.launchers.testsuite package

http://thayanger.neostrada.pl/dev/net16.jpg

This will run a handful of core subsystems; you can select any of them and hit "Start" to open the UI.

http://alliancep2p.com/dev/alliance_testsuite_big.png